saas_config:
  fides_key: domo_connector_example
  name: Domo SaaS Config
  description: A sample schema representing the Domo connector for Fidesops
  version: 0.0.1

  connector_params:
    - name: domain
    - name: client_id
    - name: client_secret

  client_config:
    protocol: https
    host:
      connector_param: domain
    authentication:
      strategy: bearer_authentication
      configuration:
        token:
          connector_param: access_token
          # TODO - metaEndpoints wasn't supported at the time it was written
          # Please to refer to the original YAML spec as this originally had a metaEndpoints      

  test_request:
    path: /oauth/token
    method: POST
    body: '{
      "grant_type": "client_credentials"
    }'

    # TODO - Custom mimeType wasn't supported at the time it was written
    # Please to refer to the original YAML spec as this originally had a mimeType    
    
    # TODO - Different authorization wasn't supported at the time it was written
    # Please to refer to the original YAML spec as this originally had a authorization  

  endpoints:
  - name: users
    requests:
      read:
        path: /v1/users
        method: GET
        query_params:
          - name: limit
            value: 500
          - name: offset
            value: 0
          # TODO - Different authorization wasn't supported at the time it was written
          # Please to refer to the original YAML spec as this originally had a authorization           
        postprocessors:
          - strategy: filter
            configuration:
              field: email
              value:
                identity: email
        pagination:
          strategy: offset
          configuration:
            incremental_param: offset
            increment_by: 500
            limit: 10000
      update:
        path: /v1/users/<id>
        method: PUT
        # TODO - Custom method PUT wasn't supported at the time it was written
        # Please to refer to the original YAML spec as this originally had a method        
        param_values:    
          - name: id
            references:
              - dataset: domo_connector_example
                field: users.id
                direction: from
        # TODO - page structure wasn't supported at the time it was written
        # Please to refer to the original YAML spec as this originally had a method                   