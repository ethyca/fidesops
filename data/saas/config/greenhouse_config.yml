saas_config:
  fides_key: greenhouse_connector_example
  name: Greenhouse SaaS Config
  description: A sample schema representing the Greenhouse connector for Fidesops
  version: 0.0.1

  connector_params:
    - name: user_id
    - name: username

  client_config:
    protocol: https
    host:
      connector_param: domain
    authentication:
      strategy: basic_authentication
      configuration:
        username:
          connector_param: username

  test_request:
    path: /v1/users
    method: GET
    
  endpoints:
  - name: candidate
    requests:
      read:
        path: /v1/candidates
        method: GET
        query_params:
          - name: per_page
            default_value: 50
          - name: page
            default_value: 1
        param_values:
          - name: email
            identity: email
            data_type: string
        pagination:
          strategy: offset
          configuration:
            incremental_param: page
            increment_by: 1
      update:
        path: /v1/candidates/<candidate_id>
        method: PATCH
        # TODO - Please to refer to the original YAML spec as this originally had a UPDATE operation
        # Has to send a customer header "On-Behalf-Of" with value of user_id connector_param
        # TODO - Custom headers wasn't supported at the time it was written
        param_values:
          - name: candidate_id
            references:
              - dataset: greenhouse_connector_example
                field: candidate.id
                direction: from
      delete:
        path: /v1/candidates/<candidate_id>
        method: DELETE
        # TODO - Please to refer to the original YAML spec as this originally had a DELETE operation
        # Has to send a customer header "On-Behalf-Of" with value of user_id connector_param
        # TODO - Custom headers wasn't supported at the time it was written
        param_values:
          - name: candidate_id
            references:
              - dataset: greenhouse_connector_example
                field: candidate.id
                direction: from
