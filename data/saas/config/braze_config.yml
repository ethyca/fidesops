saas_config:
  fides_key: braze_connector_example
  name: Braze SaaS Config
  description: A sample schema representing the Braze connector for Fidesops
  version: 0.0.1

  connector_params:
    - name: domain
    - name: api_key

  client_config:
    protocol: https
    host:
      connector_param: domain
    authentication:
      strategy: bearer_authentication
      configuration:
        token:
          connector_param: api_key

  test_request:
    path: /events/list
    method: GET
    
  endpoints:
  - name: user
    requests:
      read:
        path: /users/export/ids
        method: POST
        # TODO - body payload wasn't supported at the time it was written
        # Please to refer to the original YAML spec as this originally had a body
        data_path: users
      update:
        path: /users/track
        method: POST
        # TODO - body payload wasn't supported at the time it was written
        # Please to refer to the original YAML spec as this originally had a body
      delete:
        path: /users/delete
        method: POST
        # TODO - body payload wasn't supported at the time it was written
        # Please to refer to the original YAML spec as this originally had a body
  - name: canvas_data
    requests:
      read:
        path: /canvas/details
        method: GET
        query_params:
          - name: canvas_id
            value: <canvas_id>
        param_values:
          - name: canvas_id
            references:
              - dataset: braze_connector_example
                field: user.users.canvases_received.api_canvas_id
                direction: from
        # TODO - sourceValueChecker wasn't supported at the time it was written     
        # Please to refer to the original YAML spec as this originally had a method    
  - name: subscription_groups
    requests:
      read:
        path: /subscription/user/status
        method: GET
        query_params:
          - name: email
            value: <email>
          - name: external_id
            value: <external_id>
        param_values:
          - name: email
            identity: email
            data_type: string
          - name: external_id
            references:
              - dataset: braze_connector_example
                field: user.users.external_id
                direction: from
  - name: campaign_data
    requests:
      read:
        path: /campaigns/details
        method: GET
        query_params: 
          - name: campaign_id
            value: <campaign_id>
        param_values:
          - name: campaign_id
            references:
              - dataset: braze_connector_example
                field: user.users.campaigns_received.api_campaign_id
                direction: from
        # TODO - sourceValueChecker wasn't supported at the time it was written     
        # Please to refer to the original YAML spec as this originally had a method                   