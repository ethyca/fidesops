saas_config:
  fides_key: iterable_connector_example
  name: Iterable SaaS Config
  description: A sample schema representing the Iterable connector for Fidesops
  version: 0.0.1

  connector_params:
    - name: domain
    - name: apiKey

  client_config:
    protocol: https
    host:
      connector_param: domain
    authentication:
      # TODO - ApiKeyAuthorization hasn't written yet
      # TODO - Please 
      # strategy: basic_authentication
      # configuration:
      #   username:
      #     connector_param: username
      #   password:
      #     connector_param: api_key

  test_request:
    path: /api/users/docs@iterable.com
    
  endpoints:
  - name: events
    requests:
      read:
        path: /api/export/userEvents
        method: GET
        # TODO - parsers hasn't implemented while writing this
        # TODO - Please refer the original YAML for the details
        query_params:
          - name: email
            value: <email>
          - name: includeCustomEvents
            value: true
        param_values:
          - name: email
            identity: email
  - name: user
    requests:
      read:
        path: /api/users/<email>
        method: GET
        param_values:
          - name: email
            identity: email
        data_path: user
      # TODO - responseValidator hasn't implemented while writing this
      # TODO - Please refer to the original YAML for the details        
      delete:
        path: /api/users/forget
        method: POST
        body: '{
          "email": "<email>"
        }' 